% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/createCodeCountsTables.R
\name{createCodeCountsTables}
\alias{createCodeCountsTables}
\title{Create code counts table}
\usage{
createCodeCountsTables(
  CDMdbHandler,
  domains = NULL,
  codeCountsTable = "code_counts"
)
}
\arguments{
\item{CDMdbHandler}{A CDMdbHandler object that contains database connection details}

\item{domains}{Optional vector of domains to process. If NULL, processes all standard domains}

\item{codeCountsTable}{Name of the table to create. Defaults to "code_counts"}
}
\value{
Nothing. Creates a table called 'code_counts' in the results schema with columns:
\itemize{
\item \code{domain} - The domain of the code (Condition, Drug, etc.)
\item \code{concept_id} - The OMOP concept ID
\item \code{calendar_year} - The year of the events
\item \code{gender_concept_id} - The gender concept ID
\item \code{age_decile} - The age decile (0-9, 10-19, etc.)
\item \code{record_counts} - Number of events for this code
\item \code{person_counts} - Number of persons with this code
\item \code{incidence_person_counts} - Number of persons with first occurrence of this code
\item \code{descendant_record_counts} - Number of events including descendant concepts
\item \code{descendant_person_counts} - Number of persons including descendant concepts
\item \code{descendant_incidence_person_counts} - Number of persons with first occurrence including descendants
\item \code{total_person_counts} - Total number of persons in the stratum
}
}
\description{
Creates a comprehensive table containing counts of codes by domain, concept, year, gender and age decile.
The table includes both event counts and person counts, as well as descendant counts for hierarchical
concept analysis.
}
\examples{
\dontrun{
# Create code counts table for all domains
createCodeCountsTable(CDMdbHandler)

# Create code counts table for specific domains only
createCodeCountsTable(CDMdbHandler, domains = c("Condition", "Drug"))
}
}
